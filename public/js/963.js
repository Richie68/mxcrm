"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[963],{9473:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7757),r=n.n(a),o=n(5166),s=n(9669),c=n.n(s);function i(e,t,n,a,r,o,s){try{var c=e[o](s),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){i(o,a,r,s,c,"next",e)}function c(e){i(o,a,r,s,c,"throw",e)}s(void 0)}))}}function u(){var e=(0,o.ref)([]),t=((0,o.ref)([]),(0,o.ref)(null)),n=function(){var t=l(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().get("/api/companies");case 2:n=t.sent,e.value=n.data.data;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=l(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/api/companies/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=l(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value=null,e.prev=1,e.next=4,c().post("/api/companies",n);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),422===e.t0.response.status&&(t.value=e.t0.response.data.errors),404===e.t0.response.status&&(t.value=[],t.value=[{errors:e.t0.response.data.message}]);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=l(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value=null,e.prev=1,e.next=4,c().put("/api/companies/"+n.uuid,n);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),422===e.t0.response.status&&(t.value=e.t0.response.data.errors),404===e.t0.response.status&&(t.value=[],t.value=[{errors:e.t0.response.data.message}]);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=l(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().delete("/api/companies/"+t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{errors:t,companies:e,getCompanies:n,getCompany:a,storeCompany:s,updateCompany:i,destroyCompany:u}}},6904:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7484);function r(){return{types:[{name:""},{name:"directo"},{name:"comercial"},{name:"casa"},{name:"gobierno"}],estados:[{name:""},{name:"nuevo"},{name:"asignado"},{name:"convertido"}],sources:[{name:""},{name:"Campaña de Marketing"},{name:"Email"},{name:"Evento"},{name:"Llamada Telefónica"},{name:"Referido"},{name:"Relaciones Públicas"},{name:"Sitio Web"}],getName:function(e){return e?"".concat(e.firstname," ").concat(e.lastname):"NA"},getDate:function(e){return a(e).format("YYYY-MM-DD")},userLevel:function(e){return 0==e?"Master":1==e?"Administrador":2==e?"Gerente":3==e?"Ejecutivo":4==e?"Cliente":"NA"},getStatus:function(e){return 0==e?"Suspendido":1==e?"Activo":"NA"},industries:[{name:""},{name:"Textile"},{name:"Banca"},{name:"Biotecnología"},{name:"Química"},{name:"Comunicaciones"},{name:"Construcción"},{name:"Consultoría"},{name:"Educación"},{name:"Electrónica"},{name:"Energía"},{name:"Ingeniería"},{name:"Entretenimiento"},{name:"Medio ambiente"},{name:"Finanzas"},{name:"Gobierno"},{name:"Salud"},{name:"Hospitalidad"},{name:"Seguros"},{name:"Maquinaria"},{name:"Fabricación"},{name:"Medios de comunicación"},{name:"Sin ánimo de lucro"},{name:"Recreación"},{name:"Minoristas"},{name:"Envíos"},{name:"Tecnología"},{name:"Telecomunicaciones"},{name:"Transporte"},{name:"Servicios públicos"},{name:"Otro"}],userStatus:function(e){return 0==e?"Inactivo":1==e?"Activo":2==e?"Permiso de ausencia":"NA"},addressType:[{name:"principal"},{name:"trabajo"},{name:"personal"},{name:"facturacion"},{name:"otro"}],salutations:[{salute:""},{salute:"Srta."},{salute:"Sra."},{salute:"Sr."}],statusClass:function(e){return 0==e?"bg-red-500":1==e?"bg-green-100 text-green-800":2==e?"bg-yellow-400":""},getLongDate:function(e){return a(e).format("YYYY-MM-DD HH:mm")}}}},3963:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(5166),r={class:"max-w-7xl mx-auto"},o={class:"flex justify-around py-2 text-purple font-semibold text-2xl tracking-widest uppercase"},s=(0,a.createTextVNode)(" Empresas "),c=(0,a.createTextVNode)(" Nueva "),i={class:"flex flex-col"},l={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},u={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},m={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},p={key:0,class:"min-w-full divide-y divide-gray-200"},d=(0,a.createElementVNode)("thead",{class:"bg-gray-50 font-medium text-gray-500 uppercase tracking-wider"},[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"},"Nombre"),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"},"Ciudad"),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"},"País Facturación"),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"},"Teléfono"),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"},"Usuario"),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-right text-xs"},"Registro")])],-1),f={class:"bg-white divide-y divide-gray-200"},x={class:"px-6 py-4 whitespace-nowrap"},g={class:"flex items-center"},v={class:"ml-4"},y={class:"text-xs font-semibold text-purple hover:text-blue-600"},h={class:"text-xs text-gray-500"},E={class:"px-6 py-4 capitalize"},N={class:"px-6 py-4"},b={class:"px-6 py-4"},k={class:"px-6 py-4"},w={class:"px-6 py-4 text-right"},V={key:1,class:"flex justify-center py-4"},C=(0,a.createTextVNode)("Sin registros ");var S=n(3293),D=n(9473),M=n(6904);const B=(0,a.defineComponent)({name:"CompanyIndex",components:{PlusIcon:S.pOD,EmojiSadIcon:S.kSp},setup:function(){var e=(0,M.Z)().getLongDate,t=(0,D.Z)(),n=t.companies,r=t.getCompanies;return(0,a.onMounted)(r),{companies:n,getLongDate:e,getCompanies:r,getMainEmail:function(e){return e.emails.length>0?e.emails[0].email:""}}}});B.render=function(e,t,n,S,D,M){var B=(0,a.resolveComponent)("Head"),T=(0,a.resolveComponent)("PlusIcon"),L=(0,a.resolveComponent)("Link"),A=(0,a.resolveComponent)("EmojiSadIcon");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(B,{title:"Listado de Empresas"}),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("h1",o,[s,(0,a.createVNode)(L,{class:"inline-flex items-center px-2 py-0 bg-purple border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-dark active:bg-purple-dark focus:outline-none focus:border-purple focus:ring-1 focus:ring-purple-light disabled:opacity-25 transition",href:e.route("marketing.company.create")},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(T,{class:"w-4 h-4 mr-1"}),c]})),_:1},8,["href"])]),(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",m,[e.companies.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("table",p,[d,(0,a.createElementVNode)("tbody",f,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.companies,(function(t){return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{class:"text-xs text-gray-700 whitespace-nowrap",key:t.id},[(0,a.createElementVNode)("td",x,[(0,a.createElementVNode)("div",g,[(0,a.createVNode)(L,{href:e.route("marketing.company.show",t.uuid)},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",y,(0,a.toDisplayString)(t.name),1),(0,a.createElementVNode)("div",h,(0,a.toDisplayString)(e.getMainEmail(t)),1)])]})),_:2},1032,["href"])])]),(0,a.createElementVNode)("td",E,(0,a.toDisplayString)(t.principal.length>0?t.principal[0].city:""),1),(0,a.createElementVNode)("td",N,(0,a.toDisplayString)(t.facturacion.length>0?t.facturacion[0].country:""),1),(0,a.createElementVNode)("td",b,(0,a.toDisplayString)(t.phone_work),1),(0,a.createElementVNode)("td",k,(0,a.toDisplayString)(t.assigned?t.assigned.fullname:"NA"),1),(0,a.createElementVNode)("td",w,(0,a.toDisplayString)(e.getLongDate(t.created_at)),1)])})),128))])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",V,[(0,a.createVNode)(A,{class:"w-6 h-6 mr-2"}),C]))])])])])])],64)};const T=B}}]);