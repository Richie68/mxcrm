"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[990],{6904:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7484);function r(){return{types:[{name:""},{name:"directo"},{name:"comercial"},{name:"casa"},{name:"gobierno"}],estados:[{name:""},{name:"nuevo"},{name:"asignado"},{name:"convertido"}],sources:[{name:""},{name:"Campaña de Marketing"},{name:"Email"},{name:"Evento"},{name:"Llamada Telefónica"},{name:"Referido"},{name:"Relaciones Públicas"},{name:"Sitio Web"}],getName:function(e){return e?"".concat(e.firstname," ").concat(e.lastname):"NA"},userLevel:function(e){return 0==e?"Master":1==e?"Administrador":2==e?"Gerente":3==e?"Ejecutivo":4==e?"Cliente":"NA"},getStatus:function(e){return 0==e?"Suspendido":1==e?"Activo":"NA"},industries:[{name:""},{name:"Textile"},{name:"Banca"},{name:"Biotecnología"},{name:"Química"},{name:"Comunicaciones"},{name:"Construcción"},{name:"Consultoría"},{name:"Educación"},{name:"Electrónica"},{name:"Energía"},{name:"Ingeniería"},{name:"Entretenimiento"},{name:"Medio ambiente"},{name:"Finanzas"},{name:"Gobierno"},{name:"Salud"},{name:"Hospitalidad"},{name:"Seguros"},{name:"Maquinaria"},{name:"Fabricación"},{name:"Medios de comunicación"},{name:"Sin ánimo de lucro"},{name:"Recreación"},{name:"Minoristas"},{name:"Envíos"},{name:"Tecnología"},{name:"Telecomunicaciones"},{name:"Transporte"},{name:"Servicios públicos"},{name:"Otro"}],userStatus:function(e){return 0==e?"Inactivo":1==e?"Activo":2==e?"Permiso de ausencia":"NA"},addressType:[{name:"principal"},{name:"trabajo"},{name:"personal"},{name:"facturacion"},{name:"otro"}],salutations:[{salute:""},{salute:"Srta."},{salute:"Sra."},{salute:"Sr."}],statusClass:function(e){return 0==e?"bg-red-500":1==e?"bg-green-100 text-green-800":2==e?"bg-yellow-400":""},getLongDate:function(e){return a(e).format("YYYY-MM-DD HH:mm")}}}},5014:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(5166),r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},o=[(0,a.createElementVNode)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"},null,-1)];const s={render:function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",r,o)}},l=s},8744:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(5166),r=["type"];const o=(0,a.defineComponent)({props:{type:{type:String,default:"submit"}}});o.render=function(e,t,n,o,s,l){return(0,a.openBlock)(),(0,a.createElementBlock)("button",{type:e.type,class:"inline-flex items-center px-4 py-2 bg-purple border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-dark active:bg-purple-dark focus:outline-none focus:border-purple-light focus:ring focus:ring-purple-light disabled:opacity-25 transition"},[(0,a.renderSlot)(e.$slots,"default")],8,r)};const s=o},1282:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(5166),r={class:"max-w-7xl mx-auto"},o={class:"flex justify-around py-2 text-purple font-semibold text-2xl tracking-widest uppercase"},s=(0,a.createTextVNode)(" Usuarios CRM "),l=(0,a.createTextVNode)(" Nuevo "),c={class:"flex flex-col"},i={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},u={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},p={class:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"},d={class:"min-w-full divide-y divide-gray-200"},m=(0,a.createElementVNode)("thead",{class:"bg-gray-50 font-medium text-gray-500 uppercase tracking-wider"},[(0,a.createElementVNode)("tr",null,[(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Nombre "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Branch "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Título "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Departamento "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Celular "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Tel. Trabajo "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-left text-xs"}," Estado "),(0,a.createElementVNode)("th",{scope:"col",class:"px-6 py-3 text-right text-xs"}," Registro ")])],-1),f={class:"bg-white divide-y divide-gray-200"},x={class:"px-6 py-4 whitespace-nowrap"},g={class:"flex items-center"},v={class:"flex-shrink-0 h-10 w-10"},y=["src"],h={class:"ml-4"},E={class:"text-xs font-medium text-gray-900"},w={class:"text-xs text-gray-500"},b={class:"px-6 py-4"},N={class:"px-6 py-4"},V={class:"px-6 py-4"},k={class:"px-6 py-4"},S={class:"px-6 py-4"},C={class:"px-6 py-4 text-right"};var B=n(7757),D=n.n(B),M=n(9669),T=n.n(M);function L(e,t,n,a,r,o,s){try{var l=e[o](s),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){L(o,a,r,s,l,"next",e)}function l(e){L(o,a,r,s,l,"throw",e)}s(void 0)}))}}var P=n(8744),_=n(5014),I={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Z=[(0,a.createElementVNode)("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"},null,-1)];const z={render:function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",I,Z)}},H=z;var R=n(6904);const j=(0,a.defineComponent)({name:"EmpleadosIndex",components:{PlusIcon:H,JetButton:P.Z,PencilIcon:_.Z},setup:function(){var e=(0,R.Z)(),t=e.userStatus,n=e.statusClass,r=e.getLongDate,o=function(){var e=(0,a.ref)([]),t=(0,a.ref)([]),n=(0,a.ref)(""),r=function(){var t=A(D().mark((function t(){var n;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T().get("/api/employees");case 2:n=t.sent,e.value=n.data.data;case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var e=A(D().mark((function e(n){var a;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().get("/api/employees/"+n);case 2:a=e.sent,t.value=a.data.data;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=A(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.prev=1,e.next=4,T().post("/api/employees",t);case 4:return e.next=6,router.push({name:"employees.index"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),422===e.t0.response.status&&(n.value=e.t0.response.data.errors);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=A(D().mark((function e(a){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.prev=1,e.next=4,T().put("/api/employees/"+a,t.value);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),422===e.t0.response.status&&(n.value=e.t0.response.data.errors);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=A(D().mark((function e(t){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().delete("/api/employees/"+t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{employees:e,employee:t,errors:n,getEmployees:r,getEmployee:o,storeEmployee:s,updateEmployee:l,destroyEmployee:c}}(),s=o.employees,l=o.getEmployees;return(0,a.onMounted)(l),{employees:s,userStatus:t,statusClass:n,getLongDate:r}},methods:{getMainEmail:function(e){var t=[];return e.emails.length>0&&(t=e.emails.filter((function(e){return 1==e.main}))),t.length>0?t[0].email:""}}});j.render=function(e,t,n,B,D,M){var T=(0,a.resolveComponent)("Head"),L=(0,a.resolveComponent)("PlusIcon"),A=(0,a.resolveComponent)("Link");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(T,{title:"Listado de Empleados"}),(0,a.createElementVNode)("div",r,[(0,a.createElementVNode)("h1",o,[s,(0,a.createVNode)(A,{class:"inline-flex items-center px-2 py-0 bg-purple border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-dark active:bg-purple-dark focus:outline-none focus:border-purple focus:ring-1 focus:ring-purple-light disabled:opacity-25 transition",href:e.route("empleados.create")},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(L,{class:"w-4 h-4 mr-1"}),l]})),_:1},8,["href"])]),(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",p,[(0,a.createElementVNode)("table",d,[m,(0,a.createElementVNode)("tbody",f,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.employees,(function(t){var n;return(0,a.openBlock)(),(0,a.createElementBlock)("tr",{class:"text-xs text-gray-700 whitespace-nowrap",key:t.id},[(0,a.createElementVNode)("td",x,[(0,a.createElementVNode)("div",g,[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("img",{class:"h-10 w-10 rounded-full",src:t.profile_photo_url,alt:""},null,8,y)]),(0,a.createVNode)(A,{href:e.route("empleados.show",t.uuid)},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",E,(0,a.toDisplayString)(t.firstname)+" "+(0,a.toDisplayString)(t.lastname),1),(0,a.createElementVNode)("div",w,(0,a.toDisplayString)(e.getMainEmail(t)),1)])]})),_:2},1032,["href"])])]),(0,a.createElementVNode)("td",b,(0,a.toDisplayString)(null===(n=t.branch)||void 0===n?void 0:n.name),1),(0,a.createElementVNode)("td",N,(0,a.toDisplayString)(t.title),1),(0,a.createElementVNode)("td",null,(0,a.toDisplayString)(t.department),1),(0,a.createElementVNode)("td",V,(0,a.toDisplayString)(t.phone_mobil),1),(0,a.createElementVNode)("td",k,(0,a.toDisplayString)(t.phone_work),1),(0,a.createElementVNode)("td",S,[(0,a.createElementVNode)("span",{class:(0,a.normalizeClass)(["bg-gray-100 px-2 inline-flex text-xs leading-5 font-semibold rounded-md",e.statusClass(t.status)])},(0,a.toDisplayString)(e.userStatus(t.status)),3)]),(0,a.createElementVNode)("td",C,(0,a.toDisplayString)(e.getLongDate(t.created_at)),1)])})),128))])])])])])])])],64)};const F=j}}]);